// --- Variables de Configuración ---
$emoji-base-size: 19px; // Tamaño base de cada emoji individual en el sprite
$sprite-total-cols: 35;  // Número de columnas en tu sprite (horizontal)
$sprite-total-rows: 34;  // Número de filas en tu sprite (vertical)

// Calcular el tamaño total del sprite en base al tamaño base del emoji
$sprite-width-px: $sprite-total-cols * $emoji-base-size;
$sprite-height-px: $sprite-total-rows * $emoji-base-size;

// --- Mixin para generar clases de tamaño de emoji ---
// Este mixin te permitirá definir nuevos tamaños de emoji fácilmente
@mixin emoji-size($scale-factor: 1) {
    // Calcula el nuevo tamaño del emoji
    $new-emoji-size: $emoji-base-size * $scale-factor;
    // Calcula el nuevo tamaño del background-size para el sprite escalado
    $new-sprite-width: $sprite-width-px * $scale-factor;
    $new-sprite-height: $sprite-height-px * $scale-factor;

    width: $new-emoji-size;
    height: $new-emoji-size;
    background-size: $new-sprite-width $new-sprite-height;

    // Ajuste de posición vertical para alineación si es necesario
    // vertical-align: middle; // O puedes ajustarlo según necesites para el tamaño específico
}

// --- Clase Base para todos los Emojis ---
.emoji-icon-sprite {
    display: inline-block;
    background-image: url('../../media/emojione-sprites.png'); /* Tu imagen sprite */
    background-repeat: no-repeat;
    vertical-align: middle; // Alineación vertical por defecto
    
    // Aplica el tamaño base por defecto
    @include emoji-size(1); // Escala 1 = tamaño base
}

// --- Clases para Tamaños Específicos (ej. para uso directo en HTML) ---
.emoji-small {
    @include emoji-size(0.8); // 80% del tamaño base (ej. 12px)
}

.emoji-medium {
    @include emoji-size(1.2); // 120% del tamaño base (ej. 18px)
}

.emoji-large {
    @include emoji-size(1.6); // 160% del tamaño base (ej. 24px)
}

.emoji-x-large {
    @include emoji-size(2.0); // 200% del tamaño base (ej. 30px)
}

@for $row from 0 through ($sprite-total-rows - 1) {
    @for $col from 0 through ($sprite-total-cols - 1) {
        .emoji-#{$col}-#{$row} {
            $x-pos: -1 * $col * $emoji-base-size;
            $y-pos: -1 * $row * $emoji-base-size;
            background-position: $x-pos $y-pos;
        }
    }
}
.emoji-icon-sprite:hover {
    transform: scale(1.3); /* Un pequeño efecto al pasar el ratón */
    border-color: #007bff;
}
.emoji-display-grid {
    display: grid;
    /* Crea una cuadrícula de 10 columnas para ver varios emojis a la vez */
    grid-template-columns: repeat(10, 64px);
    gap: 10px; /* Espacio entre los emojis */
    padding: 20px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.emoji-icon-sprite.big {
    transform: scale(2.5); /* Escala a 1.6 veces su tamaño original (15px * 1.6 = 24px) */
}
.emoji-popup-container-chat {
    padding: 10px;
    background: white;
    border-radius: 8px;
    position: absolute;
    bottom: 40px;
    right: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.emoji-popup-container-pm {
    padding: 10px;
    background: white;
    border-radius: 8px;
    position: relative;
    top: 0;
    left: 200px;
    right: 0;
    bottom: 0;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.emoji-search {
    margin-bottom: 10px;
}

.emoji-search input {
    width: 95%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.emoji-category {
    margin-bottom: 15px;
}

.emoji-category h3 {
    margin: 0 0 8px 0;
    font-size: 14px;
    color: #555;
    font-weight: normal;
}

.emoji-list {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}
.emoji-featured {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 10px;
}

.emoji-featured .emoji-list {
    justify-content: space-around;
}

.emoji-featured .emoji-icon-sprite {
    transform: scale(1.1);
    transition: all 0.2s;
}

.emoji-featured .emoji-icon-sprite:hover {
    transform: scale(1.3);
}

.emoji-category h4 {
    margin: 10px 0 5px 0;
    color: #555;
    font-size: 14px;
    font-weight: bold;
}
.emoji-search-results .emoji-list {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
}
.emoji-search-results {
    display: none; /* Oculto por defecto */
    padding: 10px;
}

.emoji-search-results.visible {
    display: block; /* Mostrar solo cuando hay resultados */
}

.emoji-no-results {
    padding: 10px;
    text-align: center;
    color: #999;
    font-style: italic;
}